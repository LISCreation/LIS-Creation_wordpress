(function(){var a=(function(){var d=tinymce.util.Tools.resolve("tinymce.PluginManager");var j=function(s,q){var t="";for(var r=0;r<q;r++){t+=s}return t};var e=function(q){return q.plugins.visualchars?q.plugins.visualchars.isEnabled():false};var o=function(r,s){var q=e(r)?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";r.insertContent(j(q,s));r.dom.setAttrib(r.dom.select("span.mce-nbsp"),"data-mce-bogus","1")};var h={insertNbsp:o};var p=function(q){q.addCommand("mceNonBreaking",function(){h.insertNbsp(q,1)})};var g={register:p};var c=tinymce.util.Tools.resolve("tinymce.util.VK");var i=function(r){var q=r.getParam("nonbreaking_force_tab",0);if(typeof q==="boolean"){return q===true?3:0}else{return q}};var f={getKeyboardSpaces:i};var k=function(r){var q=f.getKeyboardSpaces(r);if(q>0){r.on("keydown",function(s){if(s.keyCode===c.TAB&&!s.isDefaultPrevented()){if(s.shiftKey){return}s.preventDefault();s.stopImmediatePropagation();h.insertNbsp(r,q)}})}};var l={setup:k};var b=function(q){q.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"});q.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})};var n={register:b};d.add("nonbreaking",function(q){g.register(q);n.register(q);l.setup(q)});function m(){}return m}())})();